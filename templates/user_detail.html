{% extends "base.html" %}

{% block title %}
{% with messages = get_flashed_messages() %}
    {% for message in messages %}
    <div class="alert alert-success" role="alert">{{message}}</div>
    {% endfor %}
{% endwith %}
<a href="/users"><-- See all users</a>
<div class="m-2">
    <h1>{{first_name}} {{last_name}}</h1>
</div>
{% endblock%}

{% block content %}
<div class="row m-2">
    <div class="col-2">
        <img class = "img-fluid" width = "150" src="{{image_url}}" alt="">
    </div>
    
    <div class="col-4">
        <form action="/users/{{user_id}}/edit">
            <button class="btn btn-primary my-2" type="submit">Edit</button>
        </form>
        
        <form action="/users/{{user_id}}/delete" method="POST">
            <button class="btn btn-danger" type="submit">Delete</button>
        </form>
        <div>
            
           <ul class="p-0"><h4>My posts</h4>
            {% for post in posts %}
            <li><a href="/posts/{{post.id}}">{{post.title}}</a></li>
            {% endfor %}
           </ul>
           <form action="/users/{{user_id}}/posts/new">
               <button class="btn btn-primary">Add Post</button>
           </form>
        </div>
    </div>

</div>
{% endblock %}
